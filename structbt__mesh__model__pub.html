<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NimBLE-Arduino: bt_mesh_model_pub Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NimBLE-Arduino<span id="projectnumber">&#160;2.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('structbt__mesh__model__pub.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structbt__mesh__model__pub-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">bt_mesh_model_pub Struct Reference<div class="ingroups"><a class="el" href="group__bt__mesh.html">Bluetooth Mesh</a> &raquo; <a class="el" href="group__bt__mesh__access.html">Bluetooth Mesh Access Layer</a></div></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="include_2mesh_2access_8h_source.html">access.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a602f69a0b966922954ca319cc6f64826" id="r_a602f69a0b966922954ca319cc6f64826"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structbt__mesh__model.html">bt_mesh_model</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#a602f69a0b966922954ca319cc6f64826">mod</a></td></tr>
<tr class="separator:a602f69a0b966922954ca319cc6f64826"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a408c9185168b962f7e7314f9a429fe8c" id="r_a408c9185168b962f7e7314f9a429fe8c"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#a408c9185168b962f7e7314f9a429fe8c">addr</a></td></tr>
<tr class="separator:a408c9185168b962f7e7314f9a429fe8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ad1809fe74930c9b36b32516a8d146f" id="r_a0ad1809fe74930c9b36b32516a8d146f"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#a0ad1809fe74930c9b36b32516a8d146f">key</a>:12</td></tr>
<tr class="separator:a0ad1809fe74930c9b36b32516a8d146f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3617adb0c1192419bdac2ad0f37199ac" id="r_a3617adb0c1192419bdac2ad0f37199ac"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#a3617adb0c1192419bdac2ad0f37199ac">cred</a>:1</td></tr>
<tr class="separator:a3617adb0c1192419bdac2ad0f37199ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab704aedcfd06d374615ef18c6ecc84a9" id="r_ab704aedcfd06d374615ef18c6ecc84a9"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#ab704aedcfd06d374615ef18c6ecc84a9">send_rel</a>:1</td></tr>
<tr class="separator:ab704aedcfd06d374615ef18c6ecc84a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdbdc3bbc5d4ac5a5d606b55bb2d50ee" id="r_abdbdc3bbc5d4ac5a5d606b55bb2d50ee"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#abdbdc3bbc5d4ac5a5d606b55bb2d50ee">fast_period</a>:1</td></tr>
<tr class="separator:abdbdc3bbc5d4ac5a5d606b55bb2d50ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a820b713aaa1e0c33a4a59c80f805e854" id="r_a820b713aaa1e0c33a4a59c80f805e854"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#a820b713aaa1e0c33a4a59c80f805e854">ttl</a></td></tr>
<tr class="separator:a820b713aaa1e0c33a4a59c80f805e854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d93d44ff85243dc94e7b4d36cde5b97" id="r_a3d93d44ff85243dc94e7b4d36cde5b97"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#a3d93d44ff85243dc94e7b4d36cde5b97">retransmit</a></td></tr>
<tr class="separator:a3d93d44ff85243dc94e7b4d36cde5b97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae550510e9ca45f8c9fd9802e4e7e0f3d" id="r_ae550510e9ca45f8c9fd9802e4e7e0f3d"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#ae550510e9ca45f8c9fd9802e4e7e0f3d">period</a></td></tr>
<tr class="separator:ae550510e9ca45f8c9fd9802e4e7e0f3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f2ce8727ffb44f564d1dc0615ebcadf" id="r_a4f2ce8727ffb44f564d1dc0615ebcadf"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#a4f2ce8727ffb44f564d1dc0615ebcadf">period_div</a>:4</td></tr>
<tr class="separator:a4f2ce8727ffb44f564d1dc0615ebcadf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6e00714ea899eb32873d10b0908d278" id="r_ab6e00714ea899eb32873d10b0908d278"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#ab6e00714ea899eb32873d10b0908d278">period_start</a></td></tr>
<tr class="separator:ab6e00714ea899eb32873d10b0908d278"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a711d1f79723aad19e29ea255f8fff370" id="r_a711d1f79723aad19e29ea255f8fff370"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structos__mbuf.html">os_mbuf</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#a711d1f79723aad19e29ea255f8fff370">msg</a></td></tr>
<tr class="memdesc:a711d1f79723aad19e29ea255f8fff370"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publication buffer, containing the publication message.  <br /></td></tr>
<tr class="separator:a711d1f79723aad19e29ea255f8fff370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20fe8f8697f48a51e1e1c8374c1d3b3d" id="r_a20fe8f8697f48a51e1e1c8374c1d3b3d"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#a20fe8f8697f48a51e1e1c8374c1d3b3d">update</a> )(struct <a class="el" href="structbt__mesh__model.html">bt_mesh_model</a> *<a class="el" href="structbt__mesh__model__pub.html#a602f69a0b966922954ca319cc6f64826">mod</a>)</td></tr>
<tr class="memdesc:a20fe8f8697f48a51e1e1c8374c1d3b3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for updating the publication buffer.  <br /></td></tr>
<tr class="separator:a20fe8f8697f48a51e1e1c8374c1d3b3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3771432d13805710e94f013332e8214" id="r_af3771432d13805710e94f013332e8214"><td class="memItemLeft" align="right" valign="top">struct k_work_delayable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#af3771432d13805710e94f013332e8214">timer</a></td></tr>
<tr class="separator:af3771432d13805710e94f013332e8214"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Model publication context. </p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="a408c9185168b962f7e7314f9a429fe8c" name="a408c9185168b962f7e7314f9a429fe8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a408c9185168b962f7e7314f9a429fe8c">&#9670;&#160;</a></span>addr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t bt_mesh_model_pub::addr</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Publish Address. </p>

</div>
</div>
<a id="a3617adb0c1192419bdac2ad0f37199ac" name="a3617adb0c1192419bdac2ad0f37199ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3617adb0c1192419bdac2ad0f37199ac">&#9670;&#160;</a></span>cred</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t bt_mesh_model_pub::cred</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Friendship Credentials Flag. </p>

</div>
</div>
<a id="abdbdc3bbc5d4ac5a5d606b55bb2d50ee" name="abdbdc3bbc5d4ac5a5d606b55bb2d50ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdbdc3bbc5d4ac5a5d606b55bb2d50ee">&#9670;&#160;</a></span>fast_period</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t bt_mesh_model_pub::fast_period</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use FastPeriodDivisor </p>

</div>
</div>
<a id="a0ad1809fe74930c9b36b32516a8d146f" name="a0ad1809fe74930c9b36b32516a8d146f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ad1809fe74930c9b36b32516a8d146f">&#9670;&#160;</a></span>key</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t bt_mesh_model_pub::key</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Publish AppKey Index. </p>

</div>
</div>
<a id="a602f69a0b966922954ca319cc6f64826" name="a602f69a0b966922954ca319cc6f64826"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a602f69a0b966922954ca319cc6f64826">&#9670;&#160;</a></span>mod</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structbt__mesh__model.html">bt_mesh_model</a>* bt_mesh_model_pub::mod</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The model the context belongs to. Initialized by the stack. </p>

</div>
</div>
<a id="a711d1f79723aad19e29ea255f8fff370" name="a711d1f79723aad19e29ea255f8fff370"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a711d1f79723aad19e29ea255f8fff370">&#9670;&#160;</a></span>msg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structos__mbuf.html">os_mbuf</a>* bt_mesh_model_pub::msg</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publication buffer, containing the publication message. </p>
<p>The application is expected to initialize this with a valid <a class="el" href="structos__mbuf.html">os_mbuf</a> pointer, with the help of e.g. the NET_BUF_SIMPLE() macro. The publication buffer must contain a valid publication message before calling the <a class="el" href="group__bt__mesh__access.html#ga71794c8253b1fee4aa9c211cd920aa69" title="Send a model publication message.">bt_mesh_model_publish()</a> API or after the publication's <a class="el" href="structbt__mesh__model__pub.html#a20fe8f8697f48a51e1e1c8374c1d3b3d">bt_mesh_model_pub::update</a> callback has been called and returned success. The buffer must be created outside of function context, i.e. it must not be on the stack. This is most conveniently acheived by creating it inline when declaring the publication context: </p><pre class="fragment">static struct bt_mesh_model_pub my_pub = {
        .msg = NET_BUF_SIMPLE(size),
};
</pre> 
</div>
</div>
<a id="ae550510e9ca45f8c9fd9802e4e7e0f3d" name="ae550510e9ca45f8c9fd9802e4e7e0f3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae550510e9ca45f8c9fd9802e4e7e0f3d">&#9670;&#160;</a></span>period</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t bt_mesh_model_pub::period</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Publish Period. </p>

</div>
</div>
<a id="a4f2ce8727ffb44f564d1dc0615ebcadf" name="a4f2ce8727ffb44f564d1dc0615ebcadf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f2ce8727ffb44f564d1dc0615ebcadf">&#9670;&#160;</a></span>period_div</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t bt_mesh_model_pub::period_div</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Divisor for the Period. </p>

</div>
</div>
<a id="ab6e00714ea899eb32873d10b0908d278" name="ab6e00714ea899eb32873d10b0908d278"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6e00714ea899eb32873d10b0908d278">&#9670;&#160;</a></span>period_start</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t bt_mesh_model_pub::period_start</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start of the current period. </p>

</div>
</div>
<a id="a3d93d44ff85243dc94e7b4d36cde5b97" name="a3d93d44ff85243dc94e7b4d36cde5b97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d93d44ff85243dc94e7b4d36cde5b97">&#9670;&#160;</a></span>retransmit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t bt_mesh_model_pub::retransmit</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retransmit Count &amp; Interval Steps. </p>

</div>
</div>
<a id="ab704aedcfd06d374615ef18c6ecc84a9" name="ab704aedcfd06d374615ef18c6ecc84a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab704aedcfd06d374615ef18c6ecc84a9">&#9670;&#160;</a></span>send_rel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t bt_mesh_model_pub::send_rel</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Force reliable sending (segment acks) </p>

</div>
</div>
<a id="af3771432d13805710e94f013332e8214" name="af3771432d13805710e94f013332e8214"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3771432d13805710e94f013332e8214">&#9670;&#160;</a></span>timer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct k_work_delayable bt_mesh_model_pub::timer</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Publish Period Timer. Only for stack-internal use. </p>

</div>
</div>
<a id="a820b713aaa1e0c33a4a59c80f805e854" name="a820b713aaa1e0c33a4a59c80f805e854"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a820b713aaa1e0c33a4a59c80f805e854">&#9670;&#160;</a></span>ttl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t bt_mesh_model_pub::ttl</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Publish Time to Live. </p>

</div>
</div>
<a id="a20fe8f8697f48a51e1e1c8374c1d3b3d" name="a20fe8f8697f48a51e1e1c8374c1d3b3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20fe8f8697f48a51e1e1c8374c1d3b3d">&#9670;&#160;</a></span>update</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* bt_mesh_model_pub::update) (struct <a class="el" href="structbt__mesh__model.html">bt_mesh_model</a> *<a class="el" href="structbt__mesh__model__pub.html#a602f69a0b966922954ca319cc6f64826">mod</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback for updating the publication buffer. </p>
<p>When set to NULL, the model is assumed not to support periodic publishing. When set to non-NULL the callback will be called periodically and is expected to update <a class="el" href="structbt__mesh__model__pub.html#a711d1f79723aad19e29ea255f8fff370">bt_mesh_model_pub::msg</a> with a valid publication message.</p>
<p>If the callback returns non-zero, the publication is skipped and will resume on the next periodic publishing interval.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mod</td><td>The Model the Publication Context belogs to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success or (negative) error code otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structbt__mesh__model__pub.html">bt_mesh_model_pub</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
