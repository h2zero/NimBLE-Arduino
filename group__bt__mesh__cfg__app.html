<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NimBLE-Arduino: Bluetooth Mesh Application Configuration</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NimBLE-Arduino<span id="projectnumber">&#160;2.2.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__bt__mesh__cfg__app.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Bluetooth Mesh Application Configuration<div class="ingroups"><a class="el" href="group__bt__mesh.html">Bluetooth Mesh</a> &raquo; <a class="el" href="group__bt__mesh__cfg.html">Bluetooth Mesh Runtime Configuration</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Bluetooth Mesh Application Configuration.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga0110ef750489af49a156a259c5a95c9b" id="r_ga0110ef750489af49a156a259c5a95c9b"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bt__mesh__cfg__app.html#ga0110ef750489af49a156a259c5a95c9b">bt_mesh_app_key_add</a> (uint16_t app_idx, uint16_t net_idx, const uint8_t key[16])</td></tr>
<tr class="memdesc:ga0110ef750489af49a156a259c5a95c9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an Application key.  <br /></td></tr>
<tr class="separator:ga0110ef750489af49a156a259c5a95c9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ae73ef766f0e1c38c0414c0a34e4053" id="r_ga5ae73ef766f0e1c38c0414c0a34e4053"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bt__mesh__cfg__app.html#ga5ae73ef766f0e1c38c0414c0a34e4053">bt_mesh_app_key_update</a> (uint16_t app_idx, uint16_t net_idx, const uint8_t key[16])</td></tr>
<tr class="memdesc:ga5ae73ef766f0e1c38c0414c0a34e4053"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update an Application key.  <br /></td></tr>
<tr class="separator:ga5ae73ef766f0e1c38c0414c0a34e4053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa0e80a19c14d47808fc11459bf5ea2eb" id="r_gaa0e80a19c14d47808fc11459bf5ea2eb"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bt__mesh__cfg__app.html#gaa0e80a19c14d47808fc11459bf5ea2eb">bt_mesh_app_key_del</a> (uint16_t app_idx, uint16_t net_idx)</td></tr>
<tr class="memdesc:gaa0e80a19c14d47808fc11459bf5ea2eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete an Application key.  <br /></td></tr>
<tr class="separator:gaa0e80a19c14d47808fc11459bf5ea2eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga42c46a936e589460225a1fa69598a1ac" id="r_ga42c46a936e589460225a1fa69598a1ac"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bt__mesh__cfg__app.html#ga42c46a936e589460225a1fa69598a1ac">bt_mesh_app_key_exists</a> (uint16_t app_idx)</td></tr>
<tr class="memdesc:ga42c46a936e589460225a1fa69598a1ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if an Application key is known.  <br /></td></tr>
<tr class="separator:ga42c46a936e589460225a1fa69598a1ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7a949a0a814f6c9a26816c076d8b92a" id="r_gad7a949a0a814f6c9a26816c076d8b92a"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bt__mesh__cfg__app.html#gad7a949a0a814f6c9a26816c076d8b92a">bt_mesh_app_keys_get</a> (uint16_t net_idx, uint16_t app_idxs[], size_t max, off_t skip)</td></tr>
<tr class="memdesc:gad7a949a0a814f6c9a26816c076d8b92a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a list of all known Application key indexes.  <br /></td></tr>
<tr class="separator:gad7a949a0a814f6c9a26816c076d8b92a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Bluetooth Mesh Application Configuration. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga0110ef750489af49a156a259c5a95c9b" name="ga0110ef750489af49a156a259c5a95c9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0110ef750489af49a156a259c5a95c9b">&#9670;&#160;</a></span>bt_mesh_app_key_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t bt_mesh_app_key_add </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>app_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>net_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>key</em>[16]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an Application key. </p>
<p>Adds the Application with the given index to the list of known applications. Allows the node to send and receive model messages encrypted with this Application key.</p>
<p>Every Application is bound to a specific Subnet. The node must know the Subnet the Application is bound to before it can add the Application.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app_idx</td><td>Application index. </td></tr>
    <tr><td class="paramname">net_idx</td><td>Network index the Application is bound to. </td></tr>
    <tr><td class="paramname">key</td><td>Application key value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATUS_SUCCESS</td><td>The Application was successfully added. </td></tr>
    <tr><td class="paramname">STATUS_INVALID_NETKEY</td><td>The NetIdx is unknown. </td></tr>
    <tr><td class="paramname">STATUS_INSUFF_RESOURCES</td><td>There's no room for storing this Application. </td></tr>
    <tr><td class="paramname">STATUS_INVALID_BINDING</td><td>This AppIdx is already bound to another Subnet. </td></tr>
    <tr><td class="paramname">STATUS_IDX_ALREADY_STORED</td><td>This AppIdx is already stored with a different key value. </td></tr>
    <tr><td class="paramname">STATUS_CANNOT_SET</td><td>Cannot set the Application key for some reason. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa0e80a19c14d47808fc11459bf5ea2eb" name="gaa0e80a19c14d47808fc11459bf5ea2eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa0e80a19c14d47808fc11459bf5ea2eb">&#9670;&#160;</a></span>bt_mesh_app_key_del()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t bt_mesh_app_key_del </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>app_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>net_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete an Application key. </p>
<p>All models bound to this application will remove this binding. All models publishing with this application will stop publishing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app_idx</td><td>Application index. </td></tr>
    <tr><td class="paramname">net_idx</td><td>Network index.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATUS_SUCCESS</td><td>The Application key was successfully deleted. </td></tr>
    <tr><td class="paramname">STATUS_INVALID_NETKEY</td><td>The NetIdx is unknown. </td></tr>
    <tr><td class="paramname">STATUS_INVALID_BINDING</td><td>This AppIdx is not bound to the given NetIdx. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga42c46a936e589460225a1fa69598a1ac" name="ga42c46a936e589460225a1fa69598a1ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga42c46a936e589460225a1fa69598a1ac">&#9670;&#160;</a></span>bt_mesh_app_key_exists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool bt_mesh_app_key_exists </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>app_idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if an Application key is known. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app_idx</td><td>Application index.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the Application is known, false otherwise. </dd></dl>

</div>
</div>
<a id="ga5ae73ef766f0e1c38c0414c0a34e4053" name="ga5ae73ef766f0e1c38c0414c0a34e4053"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ae73ef766f0e1c38c0414c0a34e4053">&#9670;&#160;</a></span>bt_mesh_app_key_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t bt_mesh_app_key_update </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>app_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>net_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>key</em>[16]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update an Application key. </p>
<p>Update an Application with a second Application key, as part of the Key Refresh procedure of the bound Subnet. The node will continue transmitting with the old application key (but receiving on both) until the Subnet enters Key Refresh phase 2. Once the Subnet enters Key Refresh phase 3, the old application key will be deleted.</p>
<dl class="section note"><dt>Note</dt><dd>The Application key can only be updated if the bound Subnet is in Key Refresh phase 1.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app_idx</td><td>Application index. </td></tr>
    <tr><td class="paramname">net_idx</td><td>Network index the Application is bound to, or BT_MESH_KEY_ANY to skip the binding check. </td></tr>
    <tr><td class="paramname">key</td><td>New key value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATUS_SUCCESS</td><td>The Application key was successfully updated. </td></tr>
    <tr><td class="paramname">STATUS_INVALID_NETKEY</td><td>The NetIdx is unknown. </td></tr>
    <tr><td class="paramname">STATUS_INVALID_BINDING</td><td>This AppIdx is not bound to the given NetIdx. </td></tr>
    <tr><td class="paramname">STATUS_CANNOT_UPDATE</td><td>The Application key cannot be updated for some reason. </td></tr>
    <tr><td class="paramname">STATUS_IDX_ALREADY_STORED</td><td>This AppIdx is already updated with a different key value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad7a949a0a814f6c9a26816c076d8b92a" name="gad7a949a0a814f6c9a26816c076d8b92a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad7a949a0a814f6c9a26816c076d8b92a">&#9670;&#160;</a></span>bt_mesh_app_keys_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t bt_mesh_app_keys_get </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>net_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>app_idxs</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&#160;</td>
          <td class="paramname"><em>skip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a list of all known Application key indexes. </p>
<p>Builds a list of all Application indexes for the given network index in the <code>app_idxs</code> array. If the <code>app_idxs</code> array cannot fit all bound Applications, this function fills all available entries and returns <code>-ENOMEM</code>. In this case, the next <code>max</code> entries of the list can be read out by calling </p><div class="fragment"><div class="line"><a class="code hl_function" href="group__bt__mesh__cfg__app.html#gad7a949a0a814f6c9a26816c076d8b92a">bt_mesh_app_keys_get</a>(net_idx, list, max, max);</div>
<div class="ttc" id="agroup__bt__mesh__cfg__app_html_gad7a949a0a814f6c9a26816c076d8b92a"><div class="ttname"><a href="group__bt__mesh__cfg__app.html#gad7a949a0a814f6c9a26816c076d8b92a">bt_mesh_app_keys_get</a></div><div class="ttdeci">ssize_t bt_mesh_app_keys_get(uint16_t net_idx, uint16_t app_idxs[], size_t max, off_t skip)</div><div class="ttdoc">Get a list of all known Application key indexes.</div></div>
</div><!-- fragment --><p>Note that any changes to the Application key list between calls to this function could change the order and number of entries in the list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">net_idx</td><td>Network Index to get the Applications of, or BT_MESH_KEY_ANY to get all Applications. </td></tr>
    <tr><td class="paramname">app_idxs</td><td>Array to fill. </td></tr>
    <tr><td class="paramname">max</td><td>Max number of indexes to return. </td></tr>
    <tr><td class="paramname">skip</td><td>Number of indexes to skip. Enables batched processing of the list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of indexes added to the <code>app_idxs</code> array, or <code>-ENOMEM</code> if the number of known Applications exceeds the <code>max</code> parameter. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
